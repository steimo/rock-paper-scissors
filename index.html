<!DOCTYPE html>
<html>
        <head>
                <title>Page Title</title>
                <meta charset="UTF-8"/>
                <link rel="stylesheet" href="mystyle.css">
        </head>
        <body>
                <header><h1>Rock Paper Scissors</h1></header>
                <p>Please, enter your weapon: </p>
                <input type="text" id="myInput" placeholder="Rock, Paper or Scissors">
                <button type="button" id="confirm-button" onclick="playGame()">Confirm</button>
                <div class="player-score">
                        <p>Player score: </p>
                        <p id="player-score"> 0</p>
                </div>
                <div class="computer-score">
                        <p>Computer score: </p>
                        <p id="computer-score">0</p>
                </div>

                <script>
                        let computerSelection = () => {
                                let variants = ["rock", "paper", "scissors"];
                                let randomElement = variants[Math.floor(Math.random() * variants.length)]; 
                                console.log("Computer choice: " + randomElement);
                                return randomElement;
                        };


function checkInputValue() {
        if (typeof document.getElementById("myInput").value !== "undefined" && document.getElementById("myInput").value !== '') {
                let inputVal = document.getElementById("myInput").value; 
                return true;
        } else {
                alert('Input field is empty');
        }
}


let playerSelection = () => {
        if (checkInputValue() === true) {
                let input = document.getElementById("myInput").value;
                document.getElementById('myInput').value='';
                input = input.toLowerCase();
                input = input.trim();
                if (input === 'rock') {
                        return 'rock';
                } else if (input === 'paper') {
                        return 'paper';
                } else if (input === 'scissors') {
                        return 'scissors';
                } else {
                        alert("Wrong input!");
                }
        } 

        
        
};

function playRound(playerSelection, computerSelection) {
        if (playerSelection == computerSelection) {
                return 'tie';
        } else if (playerSelection == 'rock') {
                if (computerSelection == 'scissors') {
                        console.log('You win the round! Rock smashes Scissors!' );
                        return true;
                } else {
                        console.log('You lose the round! Paper covers Rock!');
                        return false;
                }
        } else if (playerSelection == 'paper') {
                if (computerSelection == 'rock') {
                        console.log('You win the round! Paper covers Rock!');
                        return true;
                } else {
                        console.log('You lose the round! Scissors cuts Paper');
                        return false;
                } 
        } else if (playerSelection == 'scissors') {
                if (computerSelection == 'paper') {
                        console.log('You win the round! Scissors cuts Paper');
                        return true;
                } else {
                        console.log('You lose the round! Rock smashes Scissors');
                        return false;
                }
        }
}

let playerScore = 0;
let computerScore = 0;
let generalScore = 0;
function playGame() {
        if (generalScore < 5) {
                let game = playRound(playerSelection(), computerSelection());
                if (game === 'tie') {
                        alert("Tie!"); 
                } else if (game === true) {
                        playerScore += 1;
                        generalScore += 1;
                } else if (game === false) {
                        computerScore += 1;
                        generalScore += 1;
                }
                console.log("Computer score: " + computerScore);
                console.log("Player score: " + playerScore);
                let htmlPlayerScore = document.getElementById("player-score");
                htmlPlayerScore.innerHTML = playerScore;
                let htmlComputerScore = document.getElementById("computer-score");
                htmlComputerScore.innerHTML = computerScore;

        } else {
                if (playerScore > computerScore) {
                        alert("You have higher score. You win the game!");
                } else {
                        alert("Computer has higher score. You lose the game:(");
                }
        }



}

                </script>
        </body>
</html>
